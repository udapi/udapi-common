<html>
<head>

<style> 
  table,th,td { border:2px solid green; } 
  table { border-collapse:collapse; width:90%; } 
  td { height:30px; } 
  tbody tr:nth-child(even) { background: lightgrey; } </style>


</head>

<body>

<table  border="1" cellspacing="0" cellpadding="5">
<col width="25%">
<col width="25%">
<col width="25%">
<col width="25%">


<!--************* DATA CLASSES *************-->

<tr>
  <td colspan="4" align="center" bgcolor="green"> DATA CLASSES </td>
</tr>

<tr style="background: lightgreen">
  <td>  </td>
  <td> Perl </td>
  <td> Python </td>
  <td> Java </td>
</tr>


<!--************* DOCUMENT *************-->

<tr>
  <td colspan=4 bgcolor='lightgreen'> DOCUMENT </td>
</tr>


<tr>
  <td> import the class</td>
  <td>  use Udapi::Core::Document; </td>
  <td>  import Document from udapi.core.document  </td>
  <td>  import cz.ufal.udapi.core.impl.DefaultDocument;<br/>
        import cz.ufal.udapi.core.Document;
  </td>
</tr>

<tr>
  <td> &bull; construction </td>
  <td>  my $doc = Udapi::Core::Document->new() </td>
  <td>  doc = Document()  </td>
  <td>  Document doc = new DefaultDocument(); </td>
</tr>

<tr>
  <td> &bull; load a document from a file DIFF</td>
  <td>  $doc->load_conllu('test.conllu') </td>
  <td>  doc.load({'filename':'test.conllu'}) <br/>
  doc.load({'filehandle': fh}) </td>
  <td>  doc = new CoNLLUReader("test.conllu").readDocument(); </td>
</tr>


<tr>
  <td> &bull; save a document to a file DIFF</td>
  <td>  $doc->save_conllu('test.conllu') </td>
  <td>  doc.store({'filename':'test.conllu'})<br/>
  doc.store({'filehandle': fh})
  </td>
  <td>  CoNLLUWriter coNLLUWriter = new CoNLLUWriter();<br/>
    coNLLUWriter.writeDocument(doc, Paths.get("test.conllu"));
  </td>
</tr>

<tr>
  <td> &bull; get all bundles in the document</td>
  <td>  my @buns = $doc->bundles </td>
  <td>  buns = doc.bundles # list version<br/>
        for bundle in doc: # iterator version
  </td>
  <td>  List&lt;Bundle&gt; = doc.getBundles() </td>
</tr>

<tr>
  <td> &bull; create a new bundle and append it to the end of the document </td>
  <td>  my $bun = $doc->create_bundle() </td>
  <td>  bun = doc.create_bundle() </td>
  <td>  Bundle bun = doc.addBundle(); DIFF</td>
</tr>

<tr>
  <td> &bull; delete document (free memory) </td>
  <td>  $doc->destroy() </td>
  <td>  # not needed </td>
  <td>  // not needed </td>
</tr>



<!--************* BUNDLE *************-->

<tr>
  <td colspan=4 bgcolor='lightgreen'> BUNDLE </td>
</tr>

<tr>
  <td> import the class </td>
  <td>  use Udapi::Core::Bundle; </td>
  <td>  import Bundle from udapi.core.document  </td>
  <td>  import cz.ufal.udapi.core.Bundle;<br/>
    import cz.ufal.udapi.core.impl.DefaultBundle;
  </td>
</tr>

<tr>
  <td> &bull; construction </td>
  <td>  my $bun = Udapi::Core::Bundle->new() </td>
  <td>  bun = Bundle()  </td>
  <td>  Bundle bun = new DefaultBundle(doc) </td>
</tr>

<tr>
  <td> &bull; get all trees contained in the bundle </td>
  <td>  my @trees = $bun->trees </td>
  <td>  trees = bun.trees # list version<br/>
        for tree in bun:  # iterator version</td>
  <td>  List&lt;Root&gt; trees = bun.getTrees(); </td>
</tr>

<tr>
  <td> &bull; get the tree with a given zone </td>
  <td>  my $root = $bun->get_tree($zone) </td>
  <td>  <span style="color:red">MISSING</span> </td>
  <td>  <span style="color:red">MISSING</span> </td>
</tr>

<tr>
  <td> &bull; create a new tree in the bundle </td>
  <td>  my $root = $bun->create_tree($zone) </td>
  <td>  <span style="color:red">MISSING</span> </td>
  <td>  bun.addTree(); DIFF</td>
</tr>

<tr>
  <td> &bull; add an existing tree to the bundle DIFF</td>
  <td>  $bun->add_tree($root) </td>
  <td>  bun.trees.append(root)  </td>
  <td>  <span style="color:red">MISSING</span> </td>
</tr>

<tr>
  <td> &bull; document in which the bundle is contained </td>
  <td>  $bun->document </td>
  <td>  bun.document </td>
  <td>  bun.getDocument(); </td>
</tr>

<tr>
  <td> &bull; get id of the bundle (any string)</td>
  <td>  my $id = $bun->id </td>
  <td>  <span style="color:red">MISSING</span> </td>
  <td>  <span style="color:red">MISSING</span> </td>
</tr>

<tr>
  <td> &bull; get 1-based index of the bundle within document DIFF</td>
  <td>  my $index = $bun->number </td>
  <td>  <span style="color:red">MISSING</span> </td>
  <td>  int index = bun.getId() </td>
</tr>

<!--************* NODE *************-->

<tr>
  <td colspan=4 bgcolor='lightgreen'> NODE </td>
</tr>

<tr>
  <td> import the class </td>
  <td>  use Udapi::Core::Node; </td>
  <td>  import Node from udapi.core.node  </td>
  <td>  import cz.ufal.udapi.core.Node;<br/>
    import cz.ufal.udapi.core.imple.DefaultNode;
  </td>
</tr>

<tr>
  <td> &bull; constructor </td>
  <td>  my $node =  Udapi::Core::Node->new(); </td>
  <td>  node = Node()  </td>
  <td>  Node node = new DefaultNode(tree); </td>
</tr>

<tr>
  <td> &bull; get an attribute value </td>
  <td>  my $lemma = $node->lemma </td>
  <td>  lemma = node.lemma  </td>
  <td>  String lemma = node.getLemma(); </td>
</tr>

<tr>
  <td> &bull; write an attribute value </td>
  <td>  $node->set_lemma($lemma); </td>
  <td>  node.lemma = lemma </td>
  <td>  node.setLemma(lemma); </td>
</tr>

<tr>
  <td> &bull; get the node's parent </td>
  <td>  my $parent = $node->parent </td>
  <td>  parent = node.parent  </td>
  <td>  Optional&lt;Node&gt; parent = node.getParent(); </td>
</tr>

<tr>
  <td> &bull; set the node's parent </td>
  <td>  $node->set_parent($new_parent) </td>
  <td>  node.set_parent(new_parent)  </td>
  <td>  node.setParent(newParent); </td>
</tr>

<tr>
  <td> &bull; create a node (as the last node in the whole tree) </td>
  <td>  my $child = $node->create_child() </td>
  <td>  <span style="color:red">MISSING</span>  </td>
  <td>  Node child = node.createChild(); </td>
</tr>

<tr>
  <td> &bull; remove a node (delete it and all its descendants) </td>
  <td>  $node->remove() </td>
  <td>  node.remove()  </td>
  <td>  node.remove(); </td>
</tr>

<tr>
  <td> &bull; get node's descendants (sorted by ord) </td>
  <td>  my @nodes = $node->descendants() </td>
  <td>  nodes = node.descendants()  </td>
  <td>  List&lt;Node&gt; nodes = node.getDescendants(); </td>
</tr>

<tr>
  <td> &bull; get all node's children (sorted by ord) </td>
  <td>  my @nodes = $node->children() </td>
  <td>  nodes = node.children()  </td>
  <td>  List&lt;Node&gt; nodes = node.getChildren(); </td>
</tr>

<tr>
  <td> &bull; get left (=preceding) descendants including the node itself </td>
  <td>  my @nodes = $node->descendants({left_only=>1, add_self=>1}) </td>
  <td>  <span style="color:red">MISSING</span> </td>
  <td>  List&lt;Node&gt; nodes = node.getDescendants(EnumSet.of(Node.DescendantsArg.ADD_SELF, <span style="color:red">Node.DescendantsArg.LEFT_ONLY</span>)); </td>
</tr>

<tr>
  <td> &bull; get the last child or the node itself </td>
  <td>  my $node = $node->children({last_only=>1, add_self=>1}) </td>
  <td>  <span style="color:red">MISSING</span> </td>
  <td>  List&lt;Node&gt; node<span style="color:red">s</span> = node.getChildren(EnumSet.of(Node.ChildrenArg.ADD_SELF, Node.ChildrenArg.LAST_ONLY)); </td>
</tr>

<tr>
  <td> &bull; shift (=reorder) a node (with its whole subtree) after a target node</td>
  <td>  $node->shift_after_node($target) </td>
  <td>  node.shift(target, after=1, move_subtree=1, reference_subtree=0) DIFF </td>
  <td>  node.shiftAfterNode(target); </td>
</tr>

<tr>
  <td> &bull; shift a node without its subtree before a target node's subtree</td>
  <td>  $node->shift_before_subtree($target, {without_children=>1}) </td>
  <td>  node.shift(target, after=0, move_subtree=0, reference_subtree=1) DIFF </td>
  <td>  node.shiftBeforeSubtree(target, EnumSet.of(Node.ShiftArg.WITHOUT_CHILDREN); </td>
</tr>

<tr>
  <td> &bull; Is the given node a descendant (transitive child) of a given target node</td>
  <td>  my $bool = $node->is_descendant_of($target) </td>
  <td>  bool = node.is_descendant_of(target) </td>
  <td>  boolean bool = node.isDescendantOf(target); </td>
</tr>

<tr>
  <td> &bull; get full id of the node (root_address # node_id)</td>
  <td>  my $address = $node->address </td>
  <td>  <span style="color:red">MISSING</span> </td>
  <td>  <span style="color:red">MISSING</span> </td>
</tr>

<tr>
  <td> other methods</td>
  <td>  zone, bundle, root, document, is_root, next_node, prev_node, precedes($another_node), get_attrs(@names) </td>
  <td>  </td>
  <td>  </td>
</tr>

<!--************* ROOT *************-->

<tr>
  <td colspan=4 bgcolor='lightgreen'> ROOT </td>
</tr>

<tr>
  <td> import the class </td>
  <td>  use Udapi::Core::Node::Root; </td>
  <td>  import Rode from udapi.core.node  </td>
  <td>  import cz.ufal.udapi.core.Root;
  </td>
</tr>

<tr>
  <td> &bull; get the bundle in which the tree is located </td>
  <td>  my $bun = $root->bundle </td>
  <td>  bun = root.bundle  </td>
  <td>  Bundle bun = root.getBundle(); </td>
</tr>

<tr>
  <td> &bull; remove the whole tree from the bundle </td>
  <td>  $root->remove() </td>
  <td>  root.remove()  </td>
  <td>  root.remove(); </td>
</tr>

<tr>
  <td> &bull; get sentence string (if stored) </td>
  <td>  my $sen = $root->sentence </td>
  <td>  <span style="color:red">MISSING</span>  </td>
  <td>  String sen = root.getSentence(); </td>
</tr>

<tr>
  <td> &bull; get zone of the tree </td>
  <td>  my $zone = $root->zone </td>
  <td>  <span style="color:red">MISSING</span> </td>
  <td>  <span style="color:red">MISSING</span> </td>
</tr>

<tr>
  <td> &bull; set zone of the tree </td>
  <td>  $root->set_zone($zone) </td>
  <td>  <span style="color:red">MISSING</span> </td>
  <td>  <span style="color:red">MISSING</span> </td>
</tr>

<tr>
  <td> all methods of Node </td>
  <td>  # yes, except shift_* methods</td>
  <td>  <span style="color:red">???</span> </td>
  <td>  <span style="color:red">???</span> </td>
</tr>


<!--************* PROCESSING CLASSES *************-->

<tr>
  <td style="background: lightgreen" colspan="4" align="center"> PROCESSING CLASSES </td>
</tr>

<tr>
  <td>  </td>
  <td> Perl </td>
  <td> Python </td>
  <td> Java </td>
</tr>

<tr>
  <td> <b>BLOCK:</b> <br/> basic processing unit </td>
  <td>  use Udapi::Core::Block; </td>
  <td>  import Block from udapi.core.block  </td>
  <td>  import cz.ufal.udapi.core.Block;  </td>
</tr>


<tr>
  <td> construction (of a derived class) </td>
  <td>  use Udapi::Block::Dummy; </td>
  <td>  import Dummy from udapi.block.dummy  </td>
  <td>  import cz.ufal.udapi.block.Dummy; </td>
</tr>


<tr>
  <td> <b>RUNNER:</b> (support for the command-line execution) </td>
  <td>  use Udapi::Core::Run; </td>
  <td>  import Run from udapi.core.run  </td>
  <td>  import cz.ufal.udapi.core.Run </td>
</tr>




<!--************* COMMAND LINE EXECUTION *************-->

<tr>
  <td style="background: lightgreen" colspan="4" align="center"> COMMAND LINE EXECUTION </td>
</tr>

<tr>
  <td>  </td>
  <td> Perl </td>
  <td> Python </td>
  <td> Java </td>
</tr>

<tr>
  <td> Util::Eval </td>
  <td> cat in.conllu | udapi.pl Read::CoNLLU Util::Eval node='say $.lemma'</td>
  <td> <span style="color:red">MISSING</span> </td>
  <td> <span style="color:red">???</span> </td>
</tr>




<tr>
  <td> conllu to txt (Bash) </td>
  <td> cat in.conllu | udapi.pl Read::CoNLLU Write::TextModeTrees > out.txt</td>
  <td>  </td>
  <td> cat in.conllu | udapi.groovy Read::CoNLLU Write::TextModeTrees > out.txt </td>
</tr>

<tr>
  <td> conllu to txt (PowerShell) </td>
  <td>  </td>
  <td>  </td>
  <td>
    Use Lucida Sans Unicode in Powershell ISE<br/>
    <pre>
cmd.exe /c
echo [Console]::OutputEncoding = [System.Text.Encoding]::UTF8
$OutputEncoding = New-Object -typename System.Text.UTF8Encoding
Get-Content -encoding utf8 in.conllu | out-string |
  groovy .\bin\udapi.groovy
  Read::CoNLLU Write::TextModeTrees</pre> </td>
</tr>

</table>

</body>
</html>
